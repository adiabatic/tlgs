#include <tlgsutils/utils.hpp>
#include <drogon/drogon_test.h>

DROGON_TEST(AsciiArtDetectorTest)
{
    std::string s = R"(
 .-----------------.
| .---------------. |
| |   _________   | |
| |  |___   ___|  | |
| |      | |      | |
| |      | |      | |
| |     _| |_     | |
| |    |_____|    | |
| |               | |
| '---------------' |
 '-----------------')";

    CHECK(tlgs::isAsciiArt(s) == true);

    s = R"|(
 .       .  .   . .   .   . .    +  .
   .  :     .    .. :. .___---------___.
  .  .   .    .  :.:. _".^ .^ ^.  '.. :"-_. .
  :       .  .  .:../:            . .^  :.:\.
   .   . :: +. :.:/: .   .    .        . . .:\
    .     . _ :::/:               .  ^ .  . .:\
. .   . - : :.:./.                        .  .:\
   . . . ::. ::\(                           . :)|
.     : . : .:.|. ######              .#######::/
 .  :-  : .:  ::|.#######           ..########:|
  .  ..  .  .. :\ ########          :######## :/
      .+ :: : -.:\ ########       . ########.:/
  .+   . . . . :.:\. #######       #######..:/
 :: . . . . ::.:..:.\           .   .   ..:/
  .   .  .. :  -::::.\.       | |     . .:/
 .  :  .  .  .-:.":.::.\             ..:/
   -.   . . . .: .:::.:.\.           .:/
   .  :      : ....::_:..:\   ___.  :/
  .  .   .:. .. .  .: :.:.:\       :/
+   .   .   : . ::. :.:. .:.|\  .:/|
.         +   .  .  ...:: ..|  --.:|
  . . .   .  .  . ... :..:.."(  ..)"
.       .      :  .   .: ::/  .  .::\
    )|";
    CHECK(tlgs::isAsciiArt(s) == true);

    s = R"(
        __   
.-----.|__|.-----.-----.
|  _  ||  ||     |  _  |
|   __||__||__|__|___  | 
|__|   station   |_____|
    )";
    CHECK(tlgs::isAsciiArt(s) == true);

    s = R"(
███████████████████▎██████▎▅████████████████▅
███████████████████▎██████▎███▎▎    █████████ ▎
█████▎━━━━━━███████▎██████▎▀████████████████▀ ▎
█████▎▎     ███████▎██████▎▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅
█████▎▎mieum███████▎██████▎██████████████████ ▎
███████████████████▎██████▎▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅▅
███████████████████▎██████▎██████████████████ ▎
███████████████████▎██████▎█████████▎▎     ██ ▎
███████████████████▎██████▎██████████████████ ▎
 ━━━━━━━━━━━━━━━━━━━ ━━━━━━ ━━━━━━━━━━━━━━━━━━
    )";
    CHECK(tlgs::isAsciiArt(s) == true);
}